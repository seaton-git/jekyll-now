---
layout: post
title: itchat（二）
date:       2018-02-06
author:     Seaton
tags:
    - python
    - itchat
---

> 以下内容均在windows平台

接上文

上篇内容主要借助图灵机器人实现自动回复，本篇章，重点在学习`itchat`是现在自动回复

## 代码

    #coding=utf-8
    
    import itchat, time
    
    @itchat.msg_register('Text')
    def text_reply(msg):
    	myUserName = itchat.get_friends(update=True)[0]['UserName']
    
    	if msg['User']['NickName'] == 'DEV': // 避免乱回复，特设置仅回复 DEV 用户信息
    		itchat.send_msg(u"[%s]收到好友@%s 的信息：%s\n" %
                            (time.strftime("%Y-%m-%d %H:%M:%S", time.localtime(msg['CreateTime'])),
                             msg['User']['NickName'],
                             msg['Text']), 'filehelper') // 向文件传输助手发送信息记录
    
    		return u'[自动回复]您好，我现在有事不在，一会儿再和您联系，不好意思！'
    
    itchat.auto_login(enableCmdQR=1, hotReload=True)
    itchat.run(debug=True)
    
## 问题记录


webpackJsonp([1],{159:function(e,t,o){"use strict";var n=o(46),r=o(433),a=o(424),s=(o.n(a),o(430)),i=o.n(s);o(425),o(181),n.default.use(r.a),t.a=new r.a({routes:[{path:"/",name:"Home",component:i.a}]})},160:function(e,t,o){var n=o(140)(o(179),o(431),null,null);e.exports=n.exports},179:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"app"}},180:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(91),r=o.n(n),a=o(428),s=o.n(a),i=o(427),c=o.n(i),l=o(186),u=o.n(l);t.default={name:"home",data:function(){return{time:(new Date).toLocaleTimeString(),btnText:"睡觉喽"}},methods:{clockIn:function(){var e=[],t=new Date,o=t.toLocaleDateString(),n="星期"+"日一二三四五六".split("")[t.getDay()],a=t.toLocaleString("chinese",{hour12:!1});a=a.substring(a.indexOf(" ")+1);var i={day:o,week:n,time:a};CGI.get_storage(CGI.storage_record_string)?(e=CGI.get_storage(CGI.storage_record_string),CGI.isClockIn()?c.a.confirm("今日已打卡，是否确认更新?").then(function(t){t&&e.filter(function(t,n){t.day===o&&(e[n].time=a,CGI.set_storage(CGI.storage_record_string,r()(e)),s()({message:"更新成功",position:"bottom"}))})}):(e.push(i),CGI.set_storage(CGI.storage_record_string,r()(e)),s()({message:"打卡成功",position:"bottom"}))):(e.push(i),CGI.set_storage(CGI.storage_record_string,r()(e)),s()({message:"打卡成功",position:"bottom"}))}},created:function(){setInterval(function(){var e=(new Date).toLocaleTimeString();this.time=e}.bind(this),1e3),CGI.isClockIn()&&(this.btnText="更新打卡")},mounted:function(){var e=CGI.get_storage(CGI.storage_record_string);console.log(e);var t=[],o=[];if(e.length>0)for(var n=0;n<e.length;n++)t.push(e[n].day.substring(5)),o.push(parseInt(e[n].time.substring(0,5))),console.log(e[n].time.substring(0,5));var r=u.a.init(document.querySelector("#sleepChart")),a={title:{text:"Clock time chart"},toolbox:{show:!0,feature:{mark:{show:!0},magicType:{show:!0,type:["line","bar"]},restore:{show:!0},saveAsImage:{show:!0}}},dataZoom:{show:!0,realtime:!0,start:0,end:100},calculable:!0,xAxis:[{type:"category",boundaryGap:!1,data:t}],yAxis:[{type:"value",scale:!0,boundaryGap:[0,1],axisLabel:{formatter:"{value}"}}],series:[{name:"睡觉时间",type:"line",data:o}]};r.setOption(a)},component:{Toast:s.a,MessageBox:c.a}}},181:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(91),r=o.n(n);o(182);window.CGI={storage_record_string:"CLOCK_IN_RECORD",isClockIn:function(){var e=new Date,t=e.toLocaleDateString();return(this.get_storage(this.storage_record_string)||[]).filter(function(e){if(e.day===t)return e}).length>0},storage_isExist:function(e){return!!localStorage.getItem(e)},set_storage:function(e,t){t||(t=""),localStorage.setItem(e,r()(t))},get_storage:function(e){try{var t=JSON.parse(localStorage.getItem(e));return JSON.parse(t)}catch(t){return console.log("12123",t),localStorage.getItem(e)}},remove_storage:function(e){e?localStorage.removeItem(e):localStorage.clear()}}},182:function(e,t,o){"use strict";var n=o(161),r=o.n(n);r.a.defaults.baseURL="",r.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded"},183:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(46),r=o(160),a=o.n(r),s=o(159);n.default.config.productionTip=!1,new n.default({el:"#app",router:s.a,template:"<App/>",components:{App:a.a}})},424:function(e,t){},425:function(e,t){},426:function(e,t){},430:function(e,t,o){o(426);var n=o(140)(o(180),o(432),null,null);e.exports=n.exports},431:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"app"}},[o("router-view")],1)},staticRenderFns:[]}},432:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"-m-home"},[o("h2",{staticClass:"time"},[e._v(e._s(e.time))]),e._v(" "),o("span",{staticClass:"clock-in",on:{click:e.clockIn}},[e._v(e._s(e.btnText))]),e._v(" "),o("div",{staticClass:"chart",attrs:{id:"sleepChart"}})])},staticRenderFns:[]}}},[183]);
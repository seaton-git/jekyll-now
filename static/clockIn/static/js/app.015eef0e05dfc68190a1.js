webpackJsonp([1],{159:function(e,t,r){"use strict";var n=r(46),a=r(433),o=r(424),s=(r.n(o),r(430)),i=r.n(s);r(425),r(181),n.default.use(a.a),t.a=new a.a({routes:[{path:"/",name:"Home",component:i.a}]})},160:function(e,t,r){var n=r(140)(r(179),r(431),null,null);e.exports=n.exports},179:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"app"}},180:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(91),a=r.n(n),o=r(428),s=r.n(o),i=r(427),c=r.n(i),u=r(186),l=r.n(u);t.default={name:"home",data:function(){return{time:(new Date).toLocaleTimeString(),btnText:"睡觉喽"}},methods:{clockIn:function(){var e=[],t=new Date,r=t.toLocaleDateString(),n="星期"+"日一二三四五六".split("")[t.getDay()],o=t.toLocaleString("chinese",{hour12:!1});o=o.substring(o.indexOf(" ")+1);var i={day:r,week:n,time:o};CGI.get_storage(CGI.storage_record_string)?(e=CGI.get_storage(CGI.storage_record_string),CGI.isClockIn()?c.a.confirm("今日已打卡，是否确认更新?").then(function(t){t&&e.filter(function(t,n){t.day===r&&(e[n].time=o,CGI.set_storage(CGI.storage_record_string,a()(e)),s()({message:"更新成功",position:"bottom"}))})}):(e.push(i),CGI.set_storage(CGI.storage_record_string,a()(e)),s()({message:"打卡成功",position:"bottom"}))):(e.push(i),CGI.set_storage(CGI.storage_record_string,a()(e)),s()({message:"打卡成功",position:"bottom"}))}},created:function(){setInterval(function(){var e=(new Date).toLocaleTimeString();this.time=e}.bind(this),1e3),CGI.isClockIn()&&(this.btnText="更新打卡")},mounted:function(){var e=CGI.get_storage(CGI.storage_record_string),t=[],r=[];if(e.length>0)for(var n=0;n<e.length;n++){var a=(Number(e[n].time.substring(3,5))/60).toFixed(1).substring(1);t.push(e[n].day.substring(5)),r.push(Number(e[n].time.substring(0,2))+a)}var o=l.a.init(document.querySelector("#sleepChart")),s={title:{text:"Punch card graph"},toolbox:{show:!0,feature:{mark:{show:!0},magicType:{show:!0,type:["line","bar"]},restore:{show:!0}}},dataZoom:{show:!0,realtime:!0,start:0,end:100},calculable:!0,xAxis:[{type:"category",boundaryGap:!1,data:t}],yAxis:[{type:"value",scale:!0,axisLabel:{formatter:"{value}"}}],series:[{name:"睡觉时间",type:"line",data:r,markLine:{data:[{type:"average",name:"警戒线",value:100}]}}]};o.setOption(s)},component:{Toast:s.a,MessageBox:c.a}}},181:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(91),a=r.n(n);r(182);window.CGI={storage_record_string:"CLOCK_IN_RECORD",isClockIn:function(){var e=new Date,t=e.toLocaleDateString();return(this.get_storage(this.storage_record_string)||[]).filter(function(e){if(e.day===t)return e}).length>0},storage_isExist:function(e){return!!localStorage.getItem(e)},set_storage:function(e,t){t||(t=""),localStorage.setItem(e,a()(t))},get_storage:function(e){try{var t=JSON.parse(localStorage.getItem(e));return JSON.parse(t)}catch(t){return console.log("12123",t),localStorage.getItem(e)}},remove_storage:function(e){e?localStorage.removeItem(e):localStorage.clear()}}},182:function(e,t,r){"use strict";var n=r(161),a=r.n(n);a.a.defaults.baseURL="",a.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded"},183:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(46),a=r(160),o=r.n(a),s=r(159);n.default.config.productionTip=!1,new n.default({el:"#app",router:s.a,template:"<App/>",components:{App:o.a}})},424:function(e,t){},425:function(e,t){},426:function(e,t){},430:function(e,t,r){r(426);var n=r(140)(r(180),r(432),null,null);e.exports=n.exports},431:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("router-view")],1)},staticRenderFns:[]}},432:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"-m-home"},[r("h2",{staticClass:"time"},[e._v(e._s(e.time))]),e._v(" "),r("span",{staticClass:"clock-in",on:{click:e.clockIn}},[e._v(e._s(e.btnText))]),e._v(" "),r("div",{staticClass:"chart",attrs:{id:"sleepChart"}})])},staticRenderFns:[]}}},[183]);